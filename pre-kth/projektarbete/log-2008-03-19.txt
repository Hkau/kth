Idag är det redovisning. Musikspelet är spelbart, men fortfarande långt ifrån fullständigt, men det tog en del att komma fram dit. Först MIDI-stöd, var klart jobbigare än jag trodde, både att implementera och förstå spec.,  och är därför endast delvis implementerat, vilket ledit till att en del av låtarna fungerar felfritt, medan andra inte alls gör det, eller delvis (så som sync-problem, verkar det som).

Sedan har det varit massor av mindre problem med att implementera visning av noter, och scoring. Samma gäller optimering av notvisandet, så att den inte itererar igenom alla noter fram till där den ligger, vilket på svårare låtar (Läs Through the Fire and Flames) ledde till att CPU-användningen ökade kraftigt mot slutet av låten, t.om. upp till 100%.

Notsystemet, särskilt styrandet och aktivering av noterna skiljer sig från Guitar Hero, och aktiveras direkt med knapparna, och inte med strum, detta för att det gick snabbast, och enklast, att göra helt enkelt. Det är heller inte “fusksäkert” utan man kan trycka hur mycket för mycket på en knapp som man vill utan att det påverkar score:n det minsta, däremot kändes det viktigare att få ihop något över huvud taget än att få ihop det för sent på “rätt sätt”. Score-systemet är ungefär så simpelt som det blir, en träff ger en poäng helt enkelt, men combo och max-combo räknas också upp (detta i fönsterlisten). Noter som man behöver hålla in registreras inte som sådana, utan man prickar början av noten som vilken not som helst. Många saker är statiska, som hur många av noterna man ser på skärmen osv, genom #defines, men låten är iaf. inte det.

Hur som helst,  så är det inte så komplicerat, men det har ett väldigt lågt ‘footprint’, drog 3 sek. cpu på en låt, och drar mellan 10 och 20 meg minne (inklusive virtuellt minne, vanligt låg under 10m). För att testa så drog jag igång Through the Fire and Flames och lät den dra igenom, den landade på 10 sek, och inom samma minnesgränser (och 168 bilder i sekunden). Hur som helst så får vi se hur det går på skolans datorer, de är inte lika snabba, men de där redovisningen sker är inte som de i ljushallen. Det kan vara så att man behöver ett grafikkort från efter typ 80-talet, och isf. kan det kanske vara problem i ljushallen, men det borde gå bra i redovisningssalen.

Överlag så har det varit lärorikt att ha som projektarbete, mest för att man får erfarenhet av hur det är att koda, och debugga osv. Jag önskar att jag hade planerat bättre, men jag brukar vara bra på att skjuta undan det till dagen eller dagarna innan. Under förutsättningarna (sista dagarna) så tycker jag att jag har gjort något väldigt bra av situationen, trots att det kostade mig sömnen denna natt, så var det värt det. Kanske lär jag mig mer att tänka på att en byte bara innehåller värden upp till 255, och att den sedan börjar om på 0. Detta orsakade bl.a. problem med score, då jag använde u8 i; för att iterera.
